# Boilerplate templates

There are 3 boilerplate templates generated by the Command Line Interface \(CLI\), for nodejs and/or mongoDB development and that you can choose from:

* [ES module template](https://github.com/code-collabo/node-mongo-esm-kit)
* [Commonjs template](https://github.com/code-collabo/node-mongo-cjs-kit)
* Typescript \(coming soon\)

## Installation

Download the template\(s\) locally unto your computer through the CLI. The CLI is built to provide better experience, but you can also clone or download it manually. In the case where you are having issues using the CLI, download the template\(s\) from Github and/or install packages manually. Report issues in [the issues tab of the node-mongo-cli repo](https://github.com/code-collabo/node-mongo-cli/issues).

Change directory \(cd\) into the root of the downloaded template. If you downloaded the template through the CLI and you have or will be initializing git in your template, rename the .npmignore file in the template to .gitignore and save the file. The .env file, for example, has been added to the list in there so that you don't push your secrets to github. If you will not be initializing git, you can just delete the .npmignore file. This issue will be fixed in subsequent releases - [read about the issue here](https://github.com/code-collabo/node-mongo-cli/issues/119).

{% hint style="success" %}
Rename the .npmignore file to .gitignore and save the file if you have or will be initializing git in your template. The .env file has been added to the list in there so that you don't push your secrets to github.
{% endhint %}

Install dependencies (skip this install step if CLI installed your dependencies for you):

```text
npm install
```

Start server and mongoDB connection:

```text
npm start
```

**Note:** Incase you see an error message in the terminal, the next sections will guide you on how to set up your mongoDB connection successfully.

## MongoDB connection options

There are two monogoDB connection options already setup for you to choose from: 

* Connection to MongoDB installed on your computer. 
* Connection to MongoDB atlas

In the case where the error message "Error in DB connection" is displayed in the terminal when you start the server, you need to either install and get mongoDB running for use locally on your computer or setup mongoDB atlas. Once you have done any of these, the message "Installed MongoDB connection successful!!!" or "MongoDB ATLAS connection successful!!!" should now show up in the terminal. More notes in the sections that explain the mongoDB connection options individually. [Visit mongoDB documentation to install mongoDB](https://docs.mongodb.com/guides/server/install/) on your computer and get mongoDB running if you haven't. [Or choose to use mongoDB atlas](https://docs.atlas.mongodb.com/getting-started/) and connect to your cluster.

### Installed mongoDB option

Create a .env file in the root of the downloaded template. After installing mongoDB, keep mongoDB running in the terminal\(s\) as shown in the mongoDB documentation. Create a database and give it any name of your choice. Go to src/db.js file, you will see that there is a DBNAME environment variable i.e. **process.env.DBNAME** in the mongoDB connection string. You want to store the database name that you created in this variable. Store your database name in the variable inside the .env file you created earlier like so:

```text
DBNAME="insert-your-own-db-name-here"
```

You can add other environment variables if you like, but this tutorial is going to stick to this simple setup. Also create a collection. You can use the collection name "demo" from the src/api/models/demo.js file while you follow this tutorial. You can always use a different name later on once you get used to how the template is setup. In the src/app.js file, you will find the import named "mongooseModuleExport" which is what you need. If you ever need to use the mongoDB atlas option, then you will need to comment out "mongooseModuleExport" and remove comment from "mongooseModuleExportAtlas" so that you can access the db connection set up for atlas instead. Since you have chosen to install mongoDB locally on your computer, use the "mongooseModuleExport" import. So you don't need to change anything in the src/app.js file. Open up [http://localhost:3000](http://localhost:3000) in the browser to see the message "App works" displayed on the screen. Also see [http://localhost:3000/demo](http://localhost:3000/demo) for items in your demo collection. Count should be zero and items should be an empty array since you have not added anything in the database.

### MongoDB atlas option

Create a .env file in the root of the downloaded template. Create a database \(and collection\) and connect to your cluster following the mongoDB documentation. Go to src/atlas/db.js file, you will see that there are environment variables i.e. **process.env.USERNAME**, **process.env.PASSWORD**, **process.env.CLUSTERNAME**, **process.env.DBNAME** in the mongoDB connection string. You want to store your username, password, cluster name and database name that you created with atlas inside these variables. Store them in the variables inside the .env file you created earlier like so:

```text
DBNAME="insert-your-own-db-name-here"
USERNAME="insert-your-own-username-here"
PASSWORD="insert-your-own-password-here"
CLUSTERNAME="insert-your-own-clustername-here"
```

Use the collection name "demo" from the src/api/models/demo.js file while you follow this tutorial. You can always use a different name later on once you get used to how the template is setup. In the src/app.js file, you will find the import named "mongooseModuleExportAtlas" which is what you need but is commented out. Comment out "mongooseModuleExport" and remove comment from "mongooseModuleExportAtlas" so that you can access the db connection set up for atlas instead. If you ever need to use the installed mongoDB option, then you will need to comment out "mongooseModuleExportAtlas" and remove comment from "mongooseModuleExport" so that you can access the db connection setup for the installed mongoDB option. Open up [http://localhost:3000](http://localhost:3000) in the browser to see the message "App works" displayed on the screen. Also see [http://localhost:3000/demo](http://localhost:3000/demo) for items in your demo collection. Count should be zero and items should be an empty array since you have not added anything in the database.

## Customising dev environment

Replace "insert-your-project-name" with your own project name in the src/startMessage.js file. Modify template as you like it.

